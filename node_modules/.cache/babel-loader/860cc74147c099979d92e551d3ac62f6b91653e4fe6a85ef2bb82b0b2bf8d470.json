{"ast":null,"code":"import _classCallCheck from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport * as base64url from '../runtime/base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { ProduceJWT } from './produce.js';\nexport var UnsecuredJWT = /*#__PURE__*/function (_ProduceJWT) {\n  _inherits(UnsecuredJWT, _ProduceJWT);\n  var _super = _createSuper(UnsecuredJWT);\n  function UnsecuredJWT() {\n    _classCallCheck(this, UnsecuredJWT);\n    return _super.apply(this, arguments);\n  }\n  _createClass(UnsecuredJWT, [{\n    key: \"encode\",\n    value: function encode() {\n      var header = base64url.encode(JSON.stringify({\n        alg: 'none'\n      }));\n      var payload = base64url.encode(JSON.stringify(this._payload));\n      return \"\".concat(header, \".\").concat(payload, \".\");\n    }\n  }], [{\n    key: \"decode\",\n    value: function decode(jwt, options) {\n      if (typeof jwt !== 'string') {\n        throw new JWTInvalid('Unsecured JWT must be a string');\n      }\n      var _jwt$split = jwt.split('.'),\n        encodedHeader = _jwt$split[0],\n        encodedPayload = _jwt$split[1],\n        signature = _jwt$split[2],\n        length = _jwt$split.length;\n      if (length !== 3 || signature !== '') {\n        throw new JWTInvalid('Invalid Unsecured JWT');\n      }\n      var header;\n      try {\n        header = JSON.parse(decoder.decode(base64url.decode(encodedHeader)));\n        if (header.alg !== 'none') throw new Error();\n      } catch (_a) {\n        throw new JWTInvalid('Invalid Unsecured JWT');\n      }\n      var payload = jwtPayload(header, base64url.decode(encodedPayload), options);\n      return {\n        payload: payload,\n        header: header\n      };\n    }\n  }]);\n  return UnsecuredJWT;\n}(ProduceJWT);","map":{"version":3,"names":["base64url","decoder","JWTInvalid","jwtPayload","ProduceJWT","UnsecuredJWT","header","encode","JSON","stringify","alg","payload","_payload","jwt","options","split","encodedHeader","encodedPayload","signature","length","parse","decode","Error","_a"],"sources":["E:/react-todo-app/node_modules/jose/dist/browser/jwt/unsecured.js"],"sourcesContent":["import * as base64url from '../runtime/base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { ProduceJWT } from './produce.js';\nexport class UnsecuredJWT extends ProduceJWT {\n    encode() {\n        const header = base64url.encode(JSON.stringify({ alg: 'none' }));\n        const payload = base64url.encode(JSON.stringify(this._payload));\n        return `${header}.${payload}.`;\n    }\n    static decode(jwt, options) {\n        if (typeof jwt !== 'string') {\n            throw new JWTInvalid('Unsecured JWT must be a string');\n        }\n        const { 0: encodedHeader, 1: encodedPayload, 2: signature, length } = jwt.split('.');\n        if (length !== 3 || signature !== '') {\n            throw new JWTInvalid('Invalid Unsecured JWT');\n        }\n        let header;\n        try {\n            header = JSON.parse(decoder.decode(base64url.decode(encodedHeader)));\n            if (header.alg !== 'none')\n                throw new Error();\n        }\n        catch (_a) {\n            throw new JWTInvalid('Invalid Unsecured JWT');\n        }\n        const payload = jwtPayload(header, base64url.decode(encodedPayload), options);\n        return { payload, header };\n    }\n}\n"],"mappings":";;;;AAAA,OAAO,KAAKA,SAAS,MAAM,yBAAyB;AACpD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,OAAOC,UAAU,MAAM,0BAA0B;AACjD,SAASC,UAAU,QAAQ,cAAc;AACzC,WAAaC,YAAY;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OACrB,kBAAS;MACL,IAAMC,MAAM,GAAGN,SAAS,CAACO,MAAM,CAACC,IAAI,CAACC,SAAS,CAAC;QAAEC,GAAG,EAAE;MAAO,CAAC,CAAC,CAAC;MAChE,IAAMC,OAAO,GAAGX,SAAS,CAACO,MAAM,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACG,QAAQ,CAAC,CAAC;MAC/D,iBAAUN,MAAM,cAAIK,OAAO;IAC/B;EAAC;IAAA;IAAA,OACD,gBAAcE,GAAG,EAAEC,OAAO,EAAE;MACxB,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;QACzB,MAAM,IAAIX,UAAU,CAAC,gCAAgC,CAAC;MAC1D;MACA,iBAAsEW,GAAG,CAACE,KAAK,CAAC,GAAG,CAAC;QAAzEC,aAAa,cAAhB,CAAC;QAAoBC,cAAc,cAAjB,CAAC;QAAqBC,SAAS,cAAZ,CAAC;QAAaC,MAAM,cAANA,MAAM;MACjE,IAAIA,MAAM,KAAK,CAAC,IAAID,SAAS,KAAK,EAAE,EAAE;QAClC,MAAM,IAAIhB,UAAU,CAAC,uBAAuB,CAAC;MACjD;MACA,IAAII,MAAM;MACV,IAAI;QACAA,MAAM,GAAGE,IAAI,CAACY,KAAK,CAACnB,OAAO,CAACoB,MAAM,CAACrB,SAAS,CAACqB,MAAM,CAACL,aAAa,CAAC,CAAC,CAAC;QACpE,IAAIV,MAAM,CAACI,GAAG,KAAK,MAAM,EACrB,MAAM,IAAIY,KAAK,EAAE;MACzB,CAAC,CACD,OAAOC,EAAE,EAAE;QACP,MAAM,IAAIrB,UAAU,CAAC,uBAAuB,CAAC;MACjD;MACA,IAAMS,OAAO,GAAGR,UAAU,CAACG,MAAM,EAAEN,SAAS,CAACqB,MAAM,CAACJ,cAAc,CAAC,EAAEH,OAAO,CAAC;MAC7E,OAAO;QAAEH,OAAO,EAAPA,OAAO;QAAEL,MAAM,EAANA;MAAO,CAAC;IAC9B;EAAC;EAAA;AAAA,EAzB6BF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}