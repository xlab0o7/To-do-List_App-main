{"ast":null,"code":"import _toConsumableArray from\"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import logo from'./image/todo-logo.jpeg';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([{content:'Add new task',isCompleted:true},{content:'Get haircut',isCompleted:false},{content:'Do some grocery',isCompleted:false}]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];function handleKeyDown(e,i){if(e.key==='Enter'){createTodoAtIndex(e,i);}if(e.key==='Backspace'&&todos[i].content===''){e.preventDefault();return removeTodoAtIndex(i);}}function createTodoAtIndex(e,i){var newTodos=_toConsumableArray(todos);newTodos.splice(i+1,0,{content:'',isCompleted:false});setTodos(newTodos);setTimeout(function(){document.forms[0].elements[i+1].focus();},0);}function updateTodoAtIndex(e,i){var newTodos=_toConsumableArray(todos);newTodos[i].content=e.target.value;setTodos(newTodos);}function removeTodoAtIndex(i){if(i===0&&todos.length===1)return;setTodos(function(todos){return todos.slice(0,i).concat(todos.slice(i+1,todos.length));});setTimeout(function(){document.forms[0].elements[i-1].focus();},0);}function toggleTodoCompleteAtIndex(index){var temporaryTodos=_toConsumableArray(todos);temporaryTodos[index].isCompleted=!temporaryTodos[index].isCompleted;setTodos(temporaryTodos);}return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"logo\",alt:\"logo\"})}),/*#__PURE__*/_jsx(\"form\",{className:\"todo-list\",children:/*#__PURE__*/_jsx(\"ul\",{children:todos.map(function(todo,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"todo \".concat(todo.isCompleted&&'todo-is-completed'),children:[/*#__PURE__*/_jsx(\"div\",{className:'checkbox',onClick:function onClick(){return toggleTodoCompleteAtIndex(i);},children:todo.isCompleted&&/*#__PURE__*/_jsx(\"span\",{children:\"\\u2714\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:todo.content,onKeyDown:function onKeyDown(e){return handleKeyDown(e,i);},onChange:function onChange(e){return updateTodoAtIndex(e,i);}})]});})})})]});}export default App;","map":{"version":3,"names":["React","useState","logo","App","content","isCompleted","todos","setTodos","handleKeyDown","e","i","key","createTodoAtIndex","preventDefault","removeTodoAtIndex","newTodos","splice","setTimeout","document","forms","elements","focus","updateTodoAtIndex","target","value","length","slice","concat","toggleTodoCompleteAtIndex","index","temporaryTodos","map","todo"],"sources":["E:/react-todo-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport logo from './image/todo-logo.jpeg';\nimport './App.css';\n\nfunction App() {\n  const [todos, setTodos] = useState([\n    {\n      content: 'Add new task',\n      isCompleted: true,\n    },\n    {\n      content: 'Get haircut',\n      isCompleted: false,\n    },\n    {\n      content: 'Do some grocery',\n      isCompleted: false,\n    }\n  ]);\n\n  function handleKeyDown(e, i) {\n    if (e.key === 'Enter') {\n      createTodoAtIndex(e, i);\n    }\n    if (e.key === 'Backspace' && todos[i].content === '') {\n      e.preventDefault();\n      return removeTodoAtIndex(i);\n    }\n  }\n\n  function createTodoAtIndex(e, i) {\n    const newTodos = [...todos];\n    newTodos.splice(i + 1, 0, {\n      content: '',\n      isCompleted: false,\n    });\n    setTodos(newTodos);\n    setTimeout(() => {\n      document.forms[0].elements[i + 1].focus();\n    }, 0);\n  }\n\n  function updateTodoAtIndex(e, i) {\n    const newTodos = [...todos];\n    newTodos[i].content = e.target.value;\n    setTodos(newTodos);\n  }\n\n  function removeTodoAtIndex(i) {\n    if (i === 0 && todos.length === 1) return;\n    setTodos(todos => todos.slice(0, i).concat(todos.slice(i + 1, todos.length)));\n    setTimeout(() => {\n      document.forms[0].elements[i - 1].focus();\n    }, 0);\n  }\n\n  function toggleTodoCompleteAtIndex(index) {\n    const temporaryTodos = [...todos];\n    temporaryTodos[index].isCompleted = !temporaryTodos[index].isCompleted;\n    setTodos(temporaryTodos);\n  }\n\n  return (\n    <div className=\"app\" >\n      <div className=\"header\">\n        <img src={logo} className=\"logo\" alt=\"logo\" />\n      </div>\n      <form className=\"todo-list\">\n        <ul>\n          {todos.map((todo, i) => (\n            <div className={`todo ${todo.isCompleted && 'todo-is-completed'}`}>\n              <div className={'checkbox'} onClick={() => toggleTodoCompleteAtIndex(i)}>\n                {todo.isCompleted && (\n                  <span>&#x2714;</span>\n                )}\n              </div>\n              <input\n                type=\"text\"\n                value={todo.content}\n                onKeyDown={e => handleKeyDown(e, i)}\n                onChange={e => updateTodoAtIndex(e, i)}\n              />\n            </div>\n          ))}\n        </ul>\n      </form>\n    </div>\n  );\n}\n\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}