{"ast":null,"code":"import _regeneratorRuntime from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _createForOfIteratorHelper from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEDecryptionFailed, JWEInvalid } from '../../util/errors.js';\nimport isObject from '../../lib/is_object.js';\nexport function generalDecrypt(_x, _x2, _x3) {\n  return _generalDecrypt.apply(this, arguments);\n}\nfunction _generalDecrypt() {\n  _generalDecrypt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(jwe, key, options) {\n    var _iterator, _step, recipient;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (isObject(jwe)) {\n            _context.next = 2;\n            break;\n          }\n          throw new JWEInvalid('General JWE must be an object');\n        case 2:\n          if (!(!Array.isArray(jwe.recipients) || !jwe.recipients.every(isObject))) {\n            _context.next = 4;\n            break;\n          }\n          throw new JWEInvalid('JWE Recipients missing or incorrect type');\n        case 4:\n          if (jwe.recipients.length) {\n            _context.next = 6;\n            break;\n          }\n          throw new JWEInvalid('JWE Recipients has no members');\n        case 6:\n          _iterator = _createForOfIteratorHelper(jwe.recipients);\n          _context.prev = 7;\n          _iterator.s();\n        case 9:\n          if ((_step = _iterator.n()).done) {\n            _context.next = 21;\n            break;\n          }\n          recipient = _step.value;\n          _context.prev = 11;\n          _context.next = 14;\n          return flattenedDecrypt({\n            aad: jwe.aad,\n            ciphertext: jwe.ciphertext,\n            encrypted_key: recipient.encrypted_key,\n            header: recipient.header,\n            iv: jwe.iv,\n            protected: jwe.protected,\n            tag: jwe.tag,\n            unprotected: jwe.unprotected\n          }, key, options);\n        case 14:\n          return _context.abrupt(\"return\", _context.sent);\n        case 17:\n          _context.prev = 17;\n          _context.t0 = _context[\"catch\"](11);\n        case 19:\n          _context.next = 9;\n          break;\n        case 21:\n          _context.next = 26;\n          break;\n        case 23:\n          _context.prev = 23;\n          _context.t1 = _context[\"catch\"](7);\n          _iterator.e(_context.t1);\n        case 26:\n          _context.prev = 26;\n          _iterator.f();\n          return _context.finish(26);\n        case 29:\n          throw new JWEDecryptionFailed();\n        case 30:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[7, 23, 26, 29], [11, 17]]);\n  }));\n  return _generalDecrypt.apply(this, arguments);\n}","map":{"version":3,"names":["flattenedDecrypt","JWEDecryptionFailed","JWEInvalid","isObject","generalDecrypt","jwe","key","options","Array","isArray","recipients","every","length","recipient","aad","ciphertext","encrypted_key","header","iv","protected","tag","unprotected"],"sources":["E:/react-todo-app/node_modules/jose/dist/browser/jwe/general/decrypt.js"],"sourcesContent":["import { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEDecryptionFailed, JWEInvalid } from '../../util/errors.js';\nimport isObject from '../../lib/is_object.js';\nexport async function generalDecrypt(jwe, key, options) {\n    if (!isObject(jwe)) {\n        throw new JWEInvalid('General JWE must be an object');\n    }\n    if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(isObject)) {\n        throw new JWEInvalid('JWE Recipients missing or incorrect type');\n    }\n    if (!jwe.recipients.length) {\n        throw new JWEInvalid('JWE Recipients has no members');\n    }\n    for (const recipient of jwe.recipients) {\n        try {\n            return await flattenedDecrypt({\n                aad: jwe.aad,\n                ciphertext: jwe.ciphertext,\n                encrypted_key: recipient.encrypted_key,\n                header: recipient.header,\n                iv: jwe.iv,\n                protected: jwe.protected,\n                tag: jwe.tag,\n                unprotected: jwe.unprotected,\n            }, key, options);\n        }\n        catch (_a) {\n        }\n    }\n    throw new JWEDecryptionFailed();\n}\n"],"mappings":";;;AAAA,SAASA,gBAAgB,QAAQ,yBAAyB;AAC1D,SAASC,mBAAmB,EAAEC,UAAU,QAAQ,sBAAsB;AACtE,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,gBAAsBC,cAAc;EAAA;AAAA;AA2BnC;EAAA,6EA3BM,iBAA8BC,GAAG,EAAEC,GAAG,EAAEC,OAAO;IAAA;IAAA;MAAA;QAAA;UAAA,IAC7CJ,QAAQ,CAACE,GAAG,CAAC;YAAA;YAAA;UAAA;UAAA,MACR,IAAIH,UAAU,CAAC,+BAA+B,CAAC;QAAA;UAAA,MAErD,CAACM,KAAK,CAACC,OAAO,CAACJ,GAAG,CAACK,UAAU,CAAC,IAAI,CAACL,GAAG,CAACK,UAAU,CAACC,KAAK,CAACR,QAAQ,CAAC;YAAA;YAAA;UAAA;UAAA,MAC3D,IAAID,UAAU,CAAC,0CAA0C,CAAC;QAAA;UAAA,IAE/DG,GAAG,CAACK,UAAU,CAACE,MAAM;YAAA;YAAA;UAAA;UAAA,MAChB,IAAIV,UAAU,CAAC,+BAA+B,CAAC;QAAA;UAAA,uCAEjCG,GAAG,CAACK,UAAU;UAAA;UAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAA3BG,SAAS;UAAA;UAAA;UAAA,OAECb,gBAAgB,CAAC;YAC1Bc,GAAG,EAAET,GAAG,CAACS,GAAG;YACZC,UAAU,EAAEV,GAAG,CAACU,UAAU;YAC1BC,aAAa,EAAEH,SAAS,CAACG,aAAa;YACtCC,MAAM,EAAEJ,SAAS,CAACI,MAAM;YACxBC,EAAE,EAAEb,GAAG,CAACa,EAAE;YACVC,SAAS,EAAEd,GAAG,CAACc,SAAS;YACxBC,GAAG,EAAEf,GAAG,CAACe,GAAG;YACZC,WAAW,EAAEhB,GAAG,CAACgB;UACrB,CAAC,EAAEf,GAAG,EAAEC,OAAO,CAAC;QAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;UAAA,MAKlB,IAAIN,mBAAmB,EAAE;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAClC;EAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}