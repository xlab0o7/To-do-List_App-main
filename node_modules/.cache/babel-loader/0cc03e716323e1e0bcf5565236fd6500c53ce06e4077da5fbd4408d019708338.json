{"ast":null,"code":"import _regeneratorRuntime from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { CompactSign } from '../jws/compact/sign.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport var SignJWT = /*#__PURE__*/function (_ProduceJWT) {\n  _inherits(SignJWT, _ProduceJWT);\n  var _super = _createSuper(SignJWT);\n  function SignJWT() {\n    _classCallCheck(this, SignJWT);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SignJWT, [{\n    key: \"setProtectedHeader\",\n    value: function setProtectedHeader(protectedHeader) {\n      this._protectedHeader = protectedHeader;\n      return this;\n    }\n  }, {\n    key: \"sign\",\n    value: function () {\n      var _sign = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key, options) {\n        var _a, sig;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              sig = new CompactSign(encoder.encode(JSON.stringify(this._payload)));\n              sig.setProtectedHeader(this._protectedHeader);\n              if (!(Array.isArray((_a = this._protectedHeader) === null || _a === void 0 ? void 0 : _a.crit) && this._protectedHeader.crit.includes('b64') && this._protectedHeader.b64 === false)) {\n                _context.next = 4;\n                break;\n              }\n              throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n            case 4:\n              return _context.abrupt(\"return\", sig.sign(key, options));\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function sign(_x, _x2) {\n        return _sign.apply(this, arguments);\n      }\n      return sign;\n    }()\n  }]);\n  return SignJWT;\n}(ProduceJWT);","map":{"version":3,"names":["CompactSign","JWTInvalid","encoder","ProduceJWT","SignJWT","protectedHeader","_protectedHeader","key","options","sig","encode","JSON","stringify","_payload","setProtectedHeader","Array","isArray","_a","crit","includes","b64","sign"],"sources":["E:/react-todo-app/node_modules/jose/dist/browser/jwt/sign.js"],"sourcesContent":["import { CompactSign } from '../jws/compact/sign.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class SignJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        var _a;\n        const sig = new CompactSign(encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray((_a = this._protectedHeader) === null || _a === void 0 ? void 0 : _a.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\n"],"mappings":";;;;;;AAAA,SAASA,WAAW,QAAQ,wBAAwB;AACpD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,UAAU,QAAQ,cAAc;AACzC,WAAaC,OAAO;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OAChB,4BAAmBC,eAAe,EAAE;MAChC,IAAI,CAACC,gBAAgB,GAAGD,eAAe;MACvC,OAAO,IAAI;IACf;EAAC;IAAA;IAAA;MAAA,uEACD,iBAAWE,GAAG,EAAEC,OAAO;QAAA;QAAA;UAAA;YAAA;cAEbC,GAAG,GAAG,IAAIT,WAAW,CAACE,OAAO,CAACQ,MAAM,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC;cAC1EJ,GAAG,CAACK,kBAAkB,CAAC,IAAI,CAACR,gBAAgB,CAAC;cAAC,MAC1CS,KAAK,CAACC,OAAO,CAAC,CAACC,EAAE,GAAG,IAAI,CAACX,gBAAgB,MAAM,IAAI,IAAIW,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IACxF,IAAI,CAACZ,gBAAgB,CAACY,IAAI,CAACC,QAAQ,CAAC,KAAK,CAAC,IAC1C,IAAI,CAACb,gBAAgB,CAACc,GAAG,KAAK,KAAK;gBAAA;gBAAA;cAAA;cAAA,MAC7B,IAAInB,UAAU,CAAC,qCAAqC,CAAC;YAAA;cAAA,iCAExDQ,GAAG,CAACY,IAAI,CAACd,GAAG,EAAEC,OAAO,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CAChC;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;EAAA;AAAA,EAfwBL,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}