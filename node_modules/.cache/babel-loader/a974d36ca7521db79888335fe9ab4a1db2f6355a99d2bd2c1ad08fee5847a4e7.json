{"ast":null,"code":"import _createForOfIteratorHelper from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n  if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\n    throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n  }\n  if (!protectedHeader || protectedHeader.crit === undefined) {\n    return new Set();\n  }\n  if (!Array.isArray(protectedHeader.crit) || protectedHeader.crit.length === 0 || protectedHeader.crit.some(function (input) {\n    return typeof input !== 'string' || input.length === 0;\n  })) {\n    throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n  }\n  var recognized;\n  if (recognizedOption !== undefined) {\n    recognized = new Map([].concat(_toConsumableArray(Object.entries(recognizedOption)), _toConsumableArray(recognizedDefault.entries())));\n  } else {\n    recognized = recognizedDefault;\n  }\n  var _iterator = _createForOfIteratorHelper(protectedHeader.crit),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var parameter = _step.value;\n      if (!recognized.has(parameter)) {\n        throw new JOSENotSupported(\"Extension Header Parameter \\\"\".concat(parameter, \"\\\" is not recognized\"));\n      }\n      if (joseHeader[parameter] === undefined) {\n        throw new Err(\"Extension Header Parameter \\\"\".concat(parameter, \"\\\" is missing\"));\n      } else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n        throw new Err(\"Extension Header Parameter \\\"\".concat(parameter, \"\\\" MUST be integrity protected\"));\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return new Set(protectedHeader.crit);\n}\nexport default validateCrit;","map":{"version":3,"names":["JOSENotSupported","validateCrit","Err","recognizedDefault","recognizedOption","protectedHeader","joseHeader","crit","undefined","Set","Array","isArray","length","some","input","recognized","Map","Object","entries","parameter","has","get"],"sources":["E:/react-todo-app/node_modules/jose/dist/browser/lib/validate_crit.js"],"sourcesContent":["import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n"],"mappings":";;AAAA,SAASA,gBAAgB,QAAQ,mBAAmB;AACpD,SAASC,YAAY,CAACC,GAAG,EAAEC,iBAAiB,EAAEC,gBAAgB,EAAEC,eAAe,EAAEC,UAAU,EAAE;EACzF,IAAIA,UAAU,CAACC,IAAI,KAAKC,SAAS,IAAIH,eAAe,CAACE,IAAI,KAAKC,SAAS,EAAE;IACrE,MAAM,IAAIN,GAAG,CAAC,gEAAgE,CAAC;EACnF;EACA,IAAI,CAACG,eAAe,IAAIA,eAAe,CAACE,IAAI,KAAKC,SAAS,EAAE;IACxD,OAAO,IAAIC,GAAG,EAAE;EACpB;EACA,IAAI,CAACC,KAAK,CAACC,OAAO,CAACN,eAAe,CAACE,IAAI,CAAC,IACpCF,eAAe,CAACE,IAAI,CAACK,MAAM,KAAK,CAAC,IACjCP,eAAe,CAACE,IAAI,CAACM,IAAI,CAAC,UAACC,KAAK;IAAA,OAAK,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACF,MAAM,KAAK,CAAC;EAAA,EAAC,EAAE;IACvF,MAAM,IAAIV,GAAG,CAAC,uFAAuF,CAAC;EAC1G;EACA,IAAIa,UAAU;EACd,IAAIX,gBAAgB,KAAKI,SAAS,EAAE;IAChCO,UAAU,GAAG,IAAIC,GAAG,8BAAKC,MAAM,CAACC,OAAO,CAACd,gBAAgB,CAAC,sBAAKD,iBAAiB,CAACe,OAAO,EAAE,GAAE;EAC/F,CAAC,MACI;IACDH,UAAU,GAAGZ,iBAAiB;EAClC;EAAC,2CACuBE,eAAe,CAACE,IAAI;IAAA;EAAA;IAA5C,oDAA8C;MAAA,IAAnCY,SAAS;MAChB,IAAI,CAACJ,UAAU,CAACK,GAAG,CAACD,SAAS,CAAC,EAAE;QAC5B,MAAM,IAAInB,gBAAgB,wCAAgCmB,SAAS,0BAAsB;MAC7F;MACA,IAAIb,UAAU,CAACa,SAAS,CAAC,KAAKX,SAAS,EAAE;QACrC,MAAM,IAAIN,GAAG,wCAAgCiB,SAAS,mBAAe;MACzE,CAAC,MACI,IAAIJ,UAAU,CAACM,GAAG,CAACF,SAAS,CAAC,IAAId,eAAe,CAACc,SAAS,CAAC,KAAKX,SAAS,EAAE;QAC5E,MAAM,IAAIN,GAAG,wCAAgCiB,SAAS,oCAAgC;MAC1F;IACJ;EAAC;IAAA;EAAA;IAAA;EAAA;EACD,OAAO,IAAIV,GAAG,CAACJ,eAAe,CAACE,IAAI,CAAC;AACxC;AACA,eAAeN,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}