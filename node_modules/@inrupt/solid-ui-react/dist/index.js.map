{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@inrupt/solid-ui-react/webpack/universalModuleDefinition","webpack://@inrupt/solid-ui-react/external umd \"@inrupt/solid-client\"","webpack://@inrupt/solid-ui-react/external umd \"@inrupt/solid-client-authn-browser\"","webpack://@inrupt/solid-ui-react/external umd \"react\"","webpack://@inrupt/solid-ui-react/external umd \"react-table\"","webpack://@inrupt/solid-ui-react/external umd \"swr\"","webpack://@inrupt/solid-ui-react/webpack/bootstrap","webpack://@inrupt/solid-ui-react/webpack/runtime/compat get default export","webpack://@inrupt/solid-ui-react/webpack/runtime/define property getters","webpack://@inrupt/solid-ui-react/webpack/runtime/hasOwnProperty shorthand","webpack://@inrupt/solid-ui-react/webpack/runtime/make namespace object","webpack://@inrupt/solid-ui-react/./src/context/sessionContext/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/file/index.tsx","webpack://@inrupt/solid-ui-react/./src/hooks/useDataset/index.tsx","webpack://@inrupt/solid-ui-react/./src/context/datasetContext/index.tsx","webpack://@inrupt/solid-ui-react/./src/context/thingContext/index.tsx","webpack://@inrupt/solid-ui-react/./src/helpers/index.ts","webpack://@inrupt/solid-ui-react/./src/hooks/useFile/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/image/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/value/datetime/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/value/string/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/value/boolean/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/value/url/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/value/integer/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/value/decimal/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/value/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/link/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/logIn/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/logOut/index.tsx","webpack://@inrupt/solid-ui-react/./src/context/combinedDataContext/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/table/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/text/index.tsx","webpack://@inrupt/solid-ui-react/./src/components/video/index.tsx","webpack://@inrupt/solid-ui-react/./src/hooks/useSession/index.tsx","webpack://@inrupt/solid-ui-react/./src/hooks/useThing/index.tsx","webpack://@inrupt/solid-ui-react/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"@inrupt/solid-client\"), require(\"@inrupt/solid-client-authn-browser\"), require(\"swr\"), require(\"react-table\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"@inrupt/solid-client\", \"@inrupt/solid-client-authn-browser\", \"swr\", \"react-table\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"@inrupt/solid-client\"), require(\"@inrupt/solid-client-authn-browser\"), require(\"swr\"), require(\"react-table\")) : factory(root[\"react\"], root[\"@inrupt/solid-client\"], root[\"@inrupt/solid-client-authn-browser\"], root[\"swr\"], root[\"react-table\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, (__WEBPACK_EXTERNAL_MODULE__156__, __WEBPACK_EXTERNAL_MODULE__577__, __WEBPACK_EXTERNAL_MODULE__606__, __WEBPACK_EXTERNAL_MODULE__928__, __WEBPACK_EXTERNAL_MODULE__767__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__577__;","module.exports = __WEBPACK_EXTERNAL_MODULE__606__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","module.exports = __WEBPACK_EXTERNAL_MODULE__767__;","module.exports = __WEBPACK_EXTERNAL_MODULE__928__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, {\n  createContext,\n  ReactElement,\n  useState,\n  SetStateAction,\n  Dispatch,\n  useEffect,\n  ReactNode,\n} from \"react\";\n\nimport {\n  fetch,\n  login,\n  logout,\n  handleIncomingRedirect,\n  Session,\n  getDefaultSession,\n  onSessionRestore as onSessionRestoreClient,\n} from \"@inrupt/solid-client-authn-browser\";\n\nimport {\n  SolidDataset,\n  getProfileAll,\n  ProfileAll,\n  WithServerResourceInfo,\n} from \"@inrupt/solid-client\";\n\nexport interface ISessionContext {\n  login: typeof login;\n  logout: typeof logout;\n  session: Session;\n  sessionRequestInProgress: boolean;\n  setSessionRequestInProgress?: Dispatch<SetStateAction<boolean>> | any;\n  fetch: typeof window.fetch;\n  profile: ProfileAll<SolidDataset & WithServerResourceInfo> | undefined;\n}\n\nexport const SessionContext = createContext<ISessionContext>({\n  login,\n  logout,\n  fetch,\n  session: getDefaultSession(),\n  sessionRequestInProgress: true,\n  profile: undefined,\n});\n\n/* eslint react/require-default-props: 0 */\nexport interface ISessionProvider {\n  children: ReactNode;\n  sessionId?: string;\n  sessionRequestInProgress?: boolean;\n  onError?: (error: Error) => void;\n  /** @since 2.3.0 */\n  restorePreviousSession?: boolean;\n  /** @since 2.3.0 */\n  onSessionRestore?: (url: string) => void;\n  /**\n   * @since 2.8.2\n   * @experimental\n   * */\n  skipLoadingProfile?: boolean;\n}\n\n/**\n * Used to provide session data to child components through context, as used by various provided components and the useSession hook.\n */\nexport const SessionProvider = ({\n  sessionId,\n  children,\n  onError,\n  sessionRequestInProgress: defaultSessionRequestInProgress,\n  restorePreviousSession,\n  skipLoadingProfile,\n  onSessionRestore,\n}: ISessionProvider): ReactElement => {\n  const restoreSession =\n    restorePreviousSession || typeof onSessionRestore !== \"undefined\";\n  const [session, setSession] = useState<Session>(getDefaultSession());\n  const [profile, setProfile] =\n    useState<ProfileAll<SolidDataset & WithServerResourceInfo>>();\n\n  useEffect(() => {\n    if (onSessionRestore !== undefined) {\n      onSessionRestoreClient(onSessionRestore);\n    }\n  }, [onSessionRestore]);\n\n  const defaultInProgress =\n    typeof defaultSessionRequestInProgress === \"undefined\"\n      ? !session.info.isLoggedIn\n      : defaultSessionRequestInProgress;\n\n  // If loggedin is true, we're not making a session request.\n  const [sessionRequestInProgress, setSessionRequestInProgress] =\n    useState(defaultInProgress);\n\n  let currentLocation;\n\n  if (typeof window !== \"undefined\") {\n    currentLocation = window.location;\n  }\n  useEffect(() => {\n    handleIncomingRedirect({\n      url: window.location.href,\n      restorePreviousSession: restoreSession,\n    })\n      .then(async (sessionInfo) => {\n        if (skipLoadingProfile === true) {\n          return;\n        }\n\n        // If handleIncomingRedirect logged the session in, we know what the current\n        // user's WebID is.\n        if (sessionInfo?.webId !== undefined) {\n          const profiles = await getProfileAll(sessionInfo?.webId, {\n            fetch: session.fetch,\n          });\n\n          setProfile(profiles);\n        }\n      })\n      .catch((error: Error) => {\n        if (onError) {\n          onError(error as Error);\n        } else {\n          throw error;\n        }\n      })\n      .finally(() => {\n        // console.log(\"done\");\n        setSessionRequestInProgress(false);\n      });\n\n    getDefaultSession().on(\"logout\", () => {\n      // TODO force a refresh\n      setSession(getDefaultSession());\n    });\n  }, [\n    session,\n    sessionId,\n    onError,\n    currentLocation,\n    restoreSession,\n    skipLoadingProfile,\n  ]);\n\n  const contextLogin = async (options: Parameters<typeof login>[0]) => {\n    setSessionRequestInProgress(true);\n\n    try {\n      await login(options);\n    } catch (error) {\n      if (onError) {\n        onError(error as Error);\n      } else {\n        throw error;\n      }\n    } finally {\n      setSessionRequestInProgress(false);\n    }\n  };\n\n  const contextLogout = async () => {\n    try {\n      await logout();\n      setProfile(undefined);\n    } catch (error) {\n      if (onError) {\n        onError(error as Error);\n      } else {\n        throw error;\n      }\n    }\n  };\n\n  return (\n    <SessionContext.Provider\n      value={{\n        session,\n        login: contextLogin,\n        logout: contextLogout,\n        sessionRequestInProgress,\n        setSessionRequestInProgress,\n        fetch,\n        profile,\n      }}\n    >\n      {children}\n    </SessionContext.Provider>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useContext } from \"react\";\nimport {\n  Url,\n  UrlString,\n  saveFileInContainer,\n  WithResourceInfo,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport type Props = {\n  saveLocation: Url | UrlString;\n  inputProps?: Omit<React.InputHTMLAttributes<HTMLInputElement>, \"multiple\">;\n  autosave?: boolean;\n  onSave?: (savedFile?: File & WithResourceInfo) => void;\n  onError?: (error: Error) => void;\n};\n\nexport function FileUpload({\n  saveLocation,\n  onError,\n  onSave,\n  inputProps,\n  autosave,\n}: Props & React.HTMLAttributes<HTMLSpanElement>): ReactElement {\n  const { fetch } = useContext(SessionContext);\n\n  const handleChange = async (e: React.FormEvent<HTMLInputElement>) => {\n    const target = e.target as HTMLInputElement;\n\n    // This is a typescript bug, as target.files should always be a FileList:\n    if (!target.files) {\n      return;\n    }\n\n    if (!autosave) {\n      return;\n    }\n\n    try {\n      const savedFile = await saveFileInContainer(\n        saveLocation,\n        target.files[0],\n        {\n          slug: target.files[0].name ? target.files[0].name : undefined,\n          fetch,\n        }\n      );\n      if (onSave) {\n        onSave(savedFile);\n      }\n    } catch (saveError) {\n      if (onError) {\n        onError(saveError as Error);\n      }\n    }\n  };\n\n  return (\n    <>\n      <input\n        type=\"file\"\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...inputProps}\n        onChange={(e) => handleChange(e)}\n        data-testid=\"form-input\"\n      />\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useContext } from \"react\";\nimport useSWR from \"swr\";\nimport { getSolidDataset, SolidDataset } from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport DatasetContext from \"../../context/datasetContext\";\n\nexport default function useDataset(\n  datasetIri?: string | null | undefined,\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n  options?: any\n): {\n  dataset: SolidDataset | undefined;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  error: any;\n} {\n  const { fetch } = useContext(SessionContext);\n  const { solidDataset: datasetFromContext } = useContext(DatasetContext);\n  const { data, error } = useSWR(\n    datasetIri ? [datasetIri, options, fetch] : null,\n    () => {\n      const requestOptions = {\n        fetch,\n        ...options,\n      };\n      // useSWR will only call this fetcher if datasetUri is defined\n      return getSolidDataset(datasetIri as string, requestOptions);\n    }\n  );\n\n  const dataset = datasetIri ? (data as SolidDataset) : datasetFromContext;\n  return { dataset, error };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext, ReactElement, useState, useEffect } from \"react\";\nimport {\n  SolidDataset,\n  WithResourceInfo,\n  UrlString,\n} from \"@inrupt/solid-client\";\n\nimport useDataset from \"../../hooks/useDataset\";\n\nexport interface IDatasetContext {\n  solidDataset: SolidDataset | (SolidDataset & WithResourceInfo) | undefined;\n  setDataset: (solidDataset: SolidDataset) => void;\n}\n\nconst DatasetContext = createContext<IDatasetContext>({\n  solidDataset: undefined,\n  setDataset: () => {},\n});\n\nexport default DatasetContext;\n\nexport interface IDatasetProvider {\n  children: React.ReactNode;\n  /**\n   * @deprecated `loading` is deprecated. It can still be used but may be removed in a future major release.`loadingComponent` should be used instead.\n   */\n  loading?: React.ReactNode;\n  loadingComponent?: React.ComponentType | null;\n  onError?(error: Error): void | null;\n  solidDataset?: SolidDataset | (SolidDataset & WithResourceInfo);\n  datasetUrl?: UrlString | string;\n}\n\nexport type RequireProperty<T, Prop extends keyof T> = T & {\n  [key in Prop]-?: T[key];\n};\n\nexport type RequireDatasetOrDatasetUrl =\n  | RequireProperty<IDatasetProvider, \"solidDataset\">\n  | RequireProperty<IDatasetProvider, \"datasetUrl\">;\n\n/**\n * Used to provide a [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset) to child components through context, as used by various provided components and the useDataset hook.\n */\nexport const DatasetProvider = ({\n  children,\n  onError,\n  solidDataset: propDataset,\n  datasetUrl,\n  loading,\n  loadingComponent: LoadingComponent,\n}: RequireDatasetOrDatasetUrl): ReactElement => {\n  const { dataset, error } = useDataset(datasetUrl);\n\n  if (error && onError) {\n    onError(error);\n  }\n\n  const datasetToUse = propDataset ?? dataset;\n\n  // Provide a setDataset function so that child components can update.\n  const [stateDataset, setDataset] = useState<\n    SolidDataset | (SolidDataset & WithResourceInfo) | undefined\n  >(datasetToUse);\n\n  // If the dataset is asynchronously loaded, make sure to set the new state value.\n  useEffect(() => {\n    setDataset(datasetToUse);\n  }, [datasetToUse]);\n\n  let loader: JSX.Element | React.ReactNode | null = (LoadingComponent && (\n    <LoadingComponent />\n  )) ||\n    loading || <span>Fetching data...</span>;\n\n  if (LoadingComponent === null) {\n    loader = null;\n  }\n\n  return (\n    <DatasetContext.Provider value={{ solidDataset: stateDataset, setDataset }}>\n      {stateDataset ? children : loader}\n    </DatasetContext.Provider>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, {\n  createContext,\n  ReactElement,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { Thing, UrlString, getThing } from \"@inrupt/solid-client\";\nimport DatasetContext from \"../datasetContext\";\n\nexport interface IThingContext {\n  thing?: Thing | null;\n  setThing: (thing: Thing) => void;\n}\n\nconst ThingContext = createContext<IThingContext>({\n  thing: null,\n  setThing: () => {},\n});\n\nexport default ThingContext;\n\nexport interface IThingProvider {\n  children: React.ReactNode;\n  thing?: Thing | null;\n  thingUrl?: UrlString | string;\n}\n\nexport type RequireProperty<T, Prop extends keyof T> = T & {\n  [key in Prop]-?: T[key];\n};\n\nexport type RequireThingOrThingUrl =\n  | RequireProperty<IThingProvider, \"thing\">\n  | RequireProperty<IThingProvider, \"thingUrl\">;\n\n/**\n * Used to provide a Thing to child components through context, as used by various provided components and the useThing hook.\n */\nexport const ThingProvider = ({\n  children,\n  thing: propThing,\n  thingUrl,\n}: RequireThingOrThingUrl): ReactElement => {\n  const { solidDataset } = useContext(DatasetContext);\n  let thing = propThing;\n\n  if (solidDataset && thingUrl) {\n    thing = getThing(solidDataset, thingUrl);\n  }\n\n  // Allow child components to update the thing\n  const [stateThing, setThing] = useState<Thing | null>(thing || null);\n\n  // Reset the thing if the dataset changes.\n  useEffect(() => {\n    if (solidDataset && thingUrl) {\n      setThing(getThing(solidDataset, thingUrl));\n    } else if (propThing) {\n      setThing(propThing);\n    }\n  }, [solidDataset, thingUrl, propThing]);\n\n  return (\n    <ThingContext.Provider value={{ thing: stateThing, setThing }}>\n      {children}\n    </ThingContext.Provider>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport {\n  overwriteFile as solidOverwriteFile,\n  getFile,\n  Thing,\n  SolidDataset,\n  UrlString,\n  Url,\n  getBoolean,\n  getDatetime,\n  getDecimal,\n  getInteger,\n  getUrl,\n  getStringNoLocale,\n  getStringWithLocale,\n  getBooleanAll,\n  getDatetimeAll,\n  getDecimalAll,\n  getIntegerAll,\n  getStringNoLocaleAll,\n  getStringWithLocaleAll,\n  getUrlAll,\n  getSolidDataset,\n} from \"@inrupt/solid-client\";\n\nimport { useContext, useEffect, useState } from \"react\";\n\nimport ThingContext from \"../context/thingContext\";\nimport DatasetContext from \"../context/datasetContext\";\n\nexport type CommonProperties = {\n  thing?: Thing;\n  solidDataset?: SolidDataset;\n  property?: Url | UrlString;\n  properties?: Url[] | UrlString[];\n  edit?: boolean;\n  autosave?: boolean;\n  onSave?: (savedDataset?: SolidDataset, savedThing?: Thing) => void;\n  onError?: (error: Error) => void;\n};\n\nexport const overwriteFile = async (\n  src: string,\n  file: File,\n  input: EventTarget & HTMLInputElement,\n  fetch: typeof window.fetch,\n  maxSize?: number,\n  onSave?: () => void,\n  onError?: (error: Error) => void\n): Promise<string | null> => {\n  try {\n    if (maxSize !== undefined && file.size > maxSize * 1024) {\n      input.setCustomValidity(\n        `The selected file must not be larger than ${maxSize}kB`\n      );\n      input.reportValidity();\n      return null;\n    }\n    input.setCustomValidity(\"\");\n    await solidOverwriteFile(src, file, { fetch });\n    if (onSave) {\n      onSave();\n    }\n    const objectUrl = URL.createObjectURL(file);\n    return objectUrl;\n  } catch (error) {\n    if (onError) {\n      onError(error as Error);\n    }\n    return null;\n  }\n};\n\nexport const retrieveFile = async (\n  src: string,\n  fetch: typeof window.fetch\n): Promise<Blob> => {\n  const imageBlob = await getFile(src, { fetch });\n  return imageBlob;\n};\n\nexport type DataType =\n  | \"boolean\"\n  | \"datetime\"\n  | \"decimal\"\n  | \"integer\"\n  | \"string\"\n  | \"url\";\n\nexport function getValueByType(\n  type: \"boolean\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getBoolean>;\n\nexport function getValueByType(\n  type: \"datetime\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDatetime>;\n\nexport function getValueByType(\n  type: \"decimal\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDecimal>;\n\nexport function getValueByType(\n  type: \"integer\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getInteger>;\n\nexport function getValueByType(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocale>;\n\nexport function getValueByType(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url,\n  locale: string\n): ReturnType<typeof getStringWithLocale>;\n\nexport function getValueByType(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocale>;\n\nexport function getValueByType(\n  type: \"url\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getUrl>;\n\nexport function getValueByType(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): string | boolean | number | Date | null;\n\nexport function getValueByType(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): string | boolean | number | Date | null {\n  switch (type) {\n    case \"boolean\":\n      return getBoolean(thing, property);\n    case \"datetime\":\n      return getDatetime(thing, property);\n    case \"decimal\":\n      return getDecimal(thing, property);\n    case \"integer\":\n      return getInteger(thing, property);\n    case \"url\":\n      return getUrl(thing, property);\n    default:\n      if (locale) {\n        return getStringWithLocale(thing, property, locale);\n      }\n      return getStringNoLocale(thing, property);\n  }\n}\n\nexport function getValueByTypeAll(\n  type: \"boolean\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getBooleanAll>;\n\nexport function getValueByTypeAll(\n  type: \"datetime\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDatetimeAll>;\n\nexport function getValueByTypeAll(\n  type: \"decimal\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDecimalAll>;\n\nexport function getValueByTypeAll(\n  type: \"integer\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getIntegerAll>;\n\nexport function getValueByTypeAll(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocaleAll>;\n\nexport function getValueByTypeAll(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url,\n  locale: string\n): ReturnType<typeof getStringWithLocaleAll>;\n\nexport function getValueByTypeAll(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocaleAll>;\n\nexport function getValueByTypeAll(\n  type: \"url\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getUrlAll>;\n\nexport function getValueByTypeAll(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): Array<string | boolean | number | Date | null>;\n\nexport function getValueByTypeAll(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): Array<string | boolean | number | Date | null> {\n  switch (type) {\n    case \"boolean\":\n      return getBooleanAll(thing, property);\n    case \"datetime\":\n      return getDatetimeAll(thing, property);\n    case \"decimal\":\n      return getDecimalAll(thing, property);\n    case \"integer\":\n      return getIntegerAll(thing, property);\n    case \"url\":\n      return getUrlAll(thing, property);\n    default:\n      if (locale) {\n        return getStringWithLocaleAll(thing, property, locale);\n      }\n      return getStringNoLocaleAll(thing, property);\n  }\n}\n\nexport function getPropertyForThing(\n  propertySelector: typeof getValueByType | typeof getValueByTypeAll,\n  type: DataType,\n  thing: Thing,\n  properties: Array<Url | UrlString>,\n  locale?: string\n): Url | UrlString | undefined {\n  return (\n    properties.find((property: Url | UrlString) => {\n      return propertySelector(type, thing, property, locale);\n    }) || properties[0]\n  );\n}\n\nexport type UseProperty = {\n  dataset?: SolidDataset;\n  thing?: Thing;\n  error?: Error;\n  property: Url | UrlString;\n  value: string | boolean | number | Date | null;\n  setDataset: (dataset: SolidDataset) => void;\n  setThing: (thing: Thing) => void;\n};\n\nexport type UsePropertyProps = {\n  thing?: Thing;\n  dataset?: SolidDataset;\n  property?: Url | UrlString;\n  properties?: Url[] | UrlString[];\n  type: DataType;\n  locale?: string;\n};\n\nexport function useProperty(props: UsePropertyProps): UseProperty {\n  const {\n    dataset: propDataset,\n    thing: propThing,\n    properties: propProperties,\n    property: propProperty,\n    type,\n    locale,\n  } = props;\n\n  const { solidDataset: contextDataset, setDataset = () => {} } =\n    useContext(DatasetContext);\n\n  const dataset = propDataset || contextDataset;\n\n  const { thing: contextThing, setThing = () => {} } = useContext(ThingContext);\n\n  const thing = propThing || contextThing || undefined;\n  let error;\n\n  if (!thing) {\n    error = new Error(\"Thing not found as property or in context\");\n  }\n\n  const property =\n    thing && propProperties\n      ? getPropertyForThing(\n          getValueByType,\n          type,\n          thing,\n          propProperties,\n          locale\n        ) || propProperties[0]\n      : propProperty;\n\n  if (!property) {\n    throw new Error(\"No property provided\");\n  }\n\n  const value =\n    thing && property ? getValueByType(type, thing, property, locale) : null;\n\n  return {\n    dataset,\n    thing,\n    property,\n    error,\n    value,\n    setDataset,\n    setThing,\n  };\n}\n\nexport function useDatetimeBrowserSupport(): boolean | null {\n  const [isDatetimeSupported, setIsDatetimeSupported] = useState<\n    boolean | null\n  >(null);\n\n  useEffect(() => {\n    const test = document.createElement(\"input\");\n    test.type = \"datetime-local\";\n    setIsDatetimeSupported(test.type !== \"text\");\n  }, []);\n\n  return isDatetimeSupported;\n}\n\nexport async function updateDataset(\n  datasetUrl: string | Url,\n  setDataset: (dataset: SolidDataset) => void\n): Promise<void> {\n  const latestDataset = await getSolidDataset(datasetUrl);\n  setDataset(latestDataset);\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport { retrieveFile } from \"../../helpers\";\n\nexport default function useFile(url: string | undefined): {\n  error: Error | undefined;\n  inProgress: boolean;\n  data: Blob | undefined;\n} {\n  const [error, setError] = useState<Error | undefined>();\n  const [inProgress, setInProgress] = useState(false);\n  const [data, setData] = useState<Blob | undefined>();\n  const { fetch } = useContext(SessionContext);\n  useEffect(() => {\n    if (!url) return;\n    setInProgress(true);\n    retrieveFile(url, fetch)\n      .then((response) => {\n        setData(response);\n        setInProgress(false);\n      })\n      .catch((retrieveError) => {\n        setError(retrieveError);\n        setInProgress(false);\n      });\n  }, [url, fetch]);\n  return { error, inProgress, data };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState, useEffect, useContext } from \"react\";\nimport {\n  addUrl,\n  getSourceUrl,\n  removeUrl,\n  saveFileInContainer,\n  saveSolidDatasetAt,\n  setThing,\n  SolidDataset,\n} from \"@inrupt/solid-client\";\nimport { overwriteFile, CommonProperties, useProperty } from \"../../helpers\";\n\nimport { SessionContext } from \"../../context/sessionContext\";\nimport useFile from \"../../hooks/useFile\";\n\nexport type Props = {\n  maxSize?: number;\n  saveLocation?: string;\n  allowDelete?: boolean;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  solidDataset?: SolidDataset;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n  loadingComponent?: React.ComponentType | null;\n  deleteComponent?: React.ComponentType<{ onClick: () => void }> | null;\n} & CommonProperties &\n  React.ImgHTMLAttributes<HTMLImageElement>;\n\n/**\n * Fetches and displays an image, from a src found at a given property of a given [Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing). Can also be used to upload a new/replacement image file.\n */\nexport function Image({\n  thing: propThing,\n  property: propProperty,\n  properties: propProperties,\n  edit,\n  autosave,\n  allowDelete,\n  onSave,\n  onError,\n  maxSize,\n  alt,\n  inputProps,\n  errorComponent: ErrorComponent,\n  loadingComponent: LoadingComponent,\n  deleteComponent: DeleteComponent,\n  saveLocation,\n  solidDataset,\n  ...imgOptions\n}: Props): ReactElement | null {\n  const { fetch } = useContext(SessionContext);\n\n  const values = useProperty({\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"url\",\n  });\n\n  const { value, thing, error: thingError } = values;\n  let valueError;\n  if (!value) {\n    valueError = new Error(\"No value found for property.\");\n  }\n  const isFetchingThing = !thing && !thingError;\n\n  const [error, setError] = useState<Error | undefined>(\n    thingError ?? valueError\n  );\n\n  useEffect(() => {\n    if (error) {\n      if (onError) {\n        onError(error);\n      }\n    }\n  }, [error, onError, ErrorComponent]);\n\n  const [imgObjectUrl, setImgObjectUrl] = useState<string | undefined>();\n  const {\n    data,\n    error: imgError,\n    inProgress: fetchingFileInProgress,\n  } = useFile(value as string);\n\n  useEffect(() => {\n    if (fetchingFileInProgress) {\n      return;\n    }\n    if (imgError) {\n      setError(imgError);\n      return;\n    }\n    const imageObjectUrl = data && URL.createObjectURL(data);\n    if (imageObjectUrl) {\n      setImgObjectUrl(imageObjectUrl);\n    }\n  }, [data, fetchingFileInProgress, imgError]);\n\n  const handleDelete = async () => {\n    if (\n      !propThing ||\n      !solidDataset ||\n      !propProperty ||\n      typeof value !== \"string\" ||\n      !autosave\n    ) {\n      return;\n    }\n\n    try {\n      const updatedThing = removeUrl(propThing, propProperty, value);\n      const updatedDataset = setThing(solidDataset, updatedThing);\n      const datasetSourceUrl = getSourceUrl(solidDataset);\n      if (!datasetSourceUrl) return;\n      await saveSolidDatasetAt(datasetSourceUrl, updatedDataset, {\n        fetch,\n      });\n    } catch (e) {\n      setError(e as Error);\n    }\n  };\n\n  const handleChange = async (input: EventTarget & HTMLInputElement) => {\n    const fileList = input.files;\n    if (autosave && fileList && fileList.length > 0) {\n      if (value) {\n        const newObjectUrl = await overwriteFile(\n          value as string,\n          fileList[0],\n          input,\n          fetch,\n          maxSize,\n          onSave,\n          onError\n        );\n\n        if (newObjectUrl) {\n          setImgObjectUrl(newObjectUrl);\n        }\n      } else if (!value && saveLocation) {\n        const savedFile = await saveFileInContainer(saveLocation, fileList[0], {\n          fetch,\n        });\n        const savedFileUrl = getSourceUrl(savedFile);\n        if (savedFileUrl && propThing && propProperty && solidDataset) {\n          setImgObjectUrl(savedFileUrl);\n          try {\n            const updatedThing = addUrl(propThing, propProperty, savedFileUrl);\n            const updatedDataset = setThing(solidDataset, updatedThing);\n            const datasetSourceUrl = getSourceUrl(solidDataset);\n            if (!datasetSourceUrl) return;\n            await saveSolidDatasetAt(datasetSourceUrl, updatedDataset, {\n              fetch,\n            });\n          } catch (e) {\n            setError(e as Error);\n          }\n        }\n      }\n    }\n  };\n\n  let imageComponent = null;\n\n  if (isFetchingThing || fetchingFileInProgress) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    imageComponent = ErrorComponent ? (\n      <ErrorComponent error={error} />\n    ) : (\n      <span>{error.toString()}</span>\n    );\n  } else if (value) {\n    /* eslint-disable-next-line react/jsx-props-no-spreading */\n    imageComponent = <img src={imgObjectUrl} alt={alt ?? \"\"} {...imgOptions} />;\n  }\n\n  return (\n    <>\n      {imageComponent}\n      {edit && (\n        <input\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={(e) => handleChange(e.target)}\n        />\n      )}\n      {allowDelete &&\n        (DeleteComponent ? (\n          <DeleteComponent onClick={handleDelete} />\n        ) : (\n          <button type=\"button\" onClick={handleDelete}>\n            Delete\n          </button>\n        ))}\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setDatetime,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport {\n  useProperty,\n  useDatetimeBrowserSupport,\n  updateDataset,\n} from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype DatetimeProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst DatetimeValue: React.FC<DatetimeProps> = (props: DatetimeProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"datetime\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  const isDatetimeSupported = useDatetimeBrowserSupport();\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue = thingValue\n    ? (thingValue as Date)\n        .toISOString()\n        .substring(0, (thingValue as Date).toISOString().length - 5)\n    : null;\n\n  const [value, setValue] = useState<string>(formattedValue as string);\n\n  let initialDateValue = \"\";\n  if (!isDatetimeSupported) {\n    initialDateValue = value?.split(/T(.+)/)[0].toString();\n  }\n\n  let initialTimeValue = \"00:00\";\n  if (!isDatetimeSupported) {\n    initialTimeValue = value?.split(/T(.+)/)[1]?.toString();\n  }\n\n  const [time, setTime] = useState<string>(initialTimeValue);\n  const [date, setDate] = useState<string>(initialDateValue);\n\n  useEffect(() => {\n    if ((!time && !date) || isDatetimeSupported) return;\n    setValue(`${date ?? \"\"}T${time ?? \"00:00\"}`);\n  }, [time, date, isDatetimeSupported]);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const datetimeValue = value;\n\n      const updatedResource = setDatetime(\n        thing,\n        property,\n        new Date(`${datetimeValue}Z`)\n      );\n\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  let inputType: string;\n\n  if (isDatetimeSupported) {\n    inputType = \"datetime-local\";\n  } else {\n    inputType = \"datetime-workaround\";\n  }\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && inputType === \"datetime-local\" && (\n        <input\n          type={inputType}\n          aria-label=\"Date and Time\"\n          step=\"any\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n          pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}\"\n          placeholder=\"yyyy-mm-ddThh:mm\"\n        />\n      )}\n      {edit && dataset && thing && inputType === \"datetime-workaround\" && (\n        <>\n          <input\n            type=\"date\"\n            aria-label=\"Date\"\n            step=\"any\"\n            // eslint-disable-next-line react/jsx-props-no-spreading\n            {...inputProps}\n            onChange={(e) => {\n              setDate(e.target.value);\n            }}\n            onBlur={(e) => autosave && saveHandler(e)}\n            value={date}\n            pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}\"\n            placeholder=\"yyyy-mm-dd\"\n          />\n          <input\n            type=\"time\"\n            aria-label=\"Time\"\n            value={time}\n            onChange={(e) => setTime(e.target.value)}\n            onBlur={(e) => autosave && saveHandler(e)}\n            pattern=\"[0-9]{2}:[0-9]{2}\"\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nDatetimeValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default DatetimeValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setStringWithLocale,\n  setStringNoLocale,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype StringProps = Omit<Props, \"dataType\">;\n\nconst StringValue: React.FC<StringProps> = (props: StringProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    locale,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"string\",\n    property: propProperty,\n    properties: propProperties,\n    locale,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      let updatedResource;\n      if (locale) {\n        updatedResource = setStringWithLocale(\n          thing,\n          property,\n          value as string,\n          locale\n        );\n      } else {\n        updatedResource = setStringNoLocale(thing, property, value as string);\n      }\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{value}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"text\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nStringValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default StringValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setBoolean,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype BooleanProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst BooleanValue: React.FC<BooleanProps> = (props: BooleanProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"boolean\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  let formattedValue = thingValue;\n  let initialBooleanValue = false;\n  initialBooleanValue = (thingValue as boolean | null) ?? false;\n  formattedValue = initialBooleanValue.toString();\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  const [booleanValue, setBooleanValue] =\n    useState<boolean>(initialBooleanValue);\n\n  useEffect(() => {\n    setValue(booleanValue.toString());\n  }, [booleanValue]);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setBoolean(thing, property, booleanValue);\n\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"checkbox\"\n          checked={booleanValue}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setBooleanValue(e.target.checked);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nBooleanValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default BooleanValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setUrl,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype UrlProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst UrlValue: React.FC<UrlProps> = (props: UrlProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"url\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setUrl(thing, property, value as string);\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"url\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nUrlValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default UrlValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setInteger,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype IntegerProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst IntegerValue: React.FC<IntegerProps> = (props: IntegerProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"integer\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setInteger(\n        thing,\n        property,\n        parseInt(value as string, 10)\n      );\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"number\"\n          step=\"any\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nIntegerValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default IntegerValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setDecimal,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype DecimalProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst DecimalValue: React.FC<DecimalProps> = (props: DecimalProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"decimal\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setDecimal(\n        thing,\n        property,\n        parseFloat(value as string)\n      );\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"number\"\n          step=\"any\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nDecimalValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default DecimalValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState } from \"react\";\nimport { Url, UrlString } from \"@inrupt/solid-client\";\n\nimport { DataType, CommonProperties, useProperty } from \"../../helpers\";\nimport DatetimeValue from \"./datetime\";\nimport StringValue from \"./string\";\nimport BooleanValue from \"./boolean\";\nimport UrlValue from \"./url\";\nimport IntegerValue from \"./integer\";\nimport DecimalValue from \"./decimal\";\n\nexport type Props = {\n  dataType: DataType;\n  saveDatasetTo?: Url | UrlString;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  locale?: string;\n  loadingComponent?: React.ComponentType | null;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n} & CommonProperties;\n\n/**\n * Retrieves and displays a value of one of a range of types from a given [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset)/[Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing)/property. Can also be used to set/update and persist a value.\n */\nexport function Value(props: Props): ReactElement | null {\n  const { dataType, ...otherProps } = props as Props;\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    edit,\n    loadingComponent: LoadingComponent,\n    errorComponent: ErrorComponent,\n    locale,\n  } = otherProps;\n  const {\n    thing,\n    value,\n    error: thingError,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: dataType,\n    locale,\n  });\n\n  let valueError;\n  if (!edit && !value && dataType !== \"boolean\") {\n    valueError = new Error(\"No value found for property.\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error] = useState<Error | undefined>(thingError ?? valueError);\n\n  if (isFetchingThing) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    if (ErrorComponent) {\n      return <ErrorComponent error={error} />;\n    }\n    return <span>{error.toString()}</span>;\n  }\n\n  let Component: React.FC<Omit<Props, \"dataType\">> = StringValue;\n\n  switch (dataType) {\n    case \"boolean\":\n      Component = BooleanValue;\n      break;\n    case \"datetime\":\n      Component = DatetimeValue;\n      break;\n    case \"decimal\":\n      Component = DecimalValue;\n      break;\n    case \"integer\":\n      Component = IntegerValue;\n      break;\n    case \"url\":\n      Component = UrlValue;\n      break;\n    default:\n      Component = StringValue;\n  }\n\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <Component {...otherProps} />;\n}\n\nValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState } from \"react\";\n\nimport { CommonProperties, useProperty } from \"../../helpers\";\nimport { Value } from \"../value\";\n\nexport type Props = {\n  loadingComponent?: React.ComponentType | null;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n} & CommonProperties &\n  React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\n/**\n * Retrieves a URL from given [Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing)/property, and renders as an anchor tag with the given href.\n */\nexport function Link({\n  children,\n  property: propProperty,\n  properties: propProperties,\n  thing: propThing,\n  solidDataset,\n  autosave,\n  rel,\n  target,\n  edit,\n  loadingComponent: LoadingComponent,\n  errorComponent: ErrorComponent,\n  onSave,\n  onError,\n  ...linkOptions\n}: Props): ReactElement | null {\n  const {\n    value: href,\n    thing,\n    property,\n    dataset,\n    error: thingError,\n  } = useProperty({\n    dataset: solidDataset,\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"url\",\n  });\n\n  let valueError;\n  if (!edit && !href) {\n    valueError = new Error(\"URL not found for given property\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error] = useState<Error | undefined>(thingError ?? valueError);\n\n  if (isFetchingThing) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    if (ErrorComponent) {\n      return <ErrorComponent error={error} />;\n    }\n    return <span>{error.toString()}</span>;\n  }\n  const adjustedRel =\n    rel || (target === \"_blank\" ? \"noopener noreferrer\" : \"nofollow\");\n\n  if (edit) {\n    return (\n      <Value\n        dataType=\"url\"\n        solidDataset={dataset}\n        thing={thing}\n        property={property as string}\n        autosave={autosave}\n        onSave={onSave}\n        onError={onError}\n        edit\n      />\n    );\n  }\n\n  return (\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <a href={href as string} rel={adjustedRel} target={target} {...linkOptions}>\n      {children ?? href}\n    </a>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { ILoginInputOptions } from \"@inrupt/solid-client-authn-core\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport interface Props {\n  authOptions?: ILoginInputOptions;\n  children?: React.ReactNode;\n  onError?(error: Error): void;\n  oidcIssuer: string;\n  redirectUrl: string;\n}\n\n/**\n * Displays a button which triggers the login flow on click. Should be used inside a `SessionProvider`.\n */\nexport const LoginButton: React.FC<Props> = ({\n  oidcIssuer,\n  redirectUrl,\n  children,\n  authOptions,\n  onError,\n}: Props) => {\n  const options = {\n    redirectUrl,\n    oidcIssuer,\n    ...authOptions,\n  };\n\n  const { login, setSessionRequestInProgress } = useContext(SessionContext);\n\n  async function loginHandler() {\n    setSessionRequestInProgress(true);\n\n    try {\n      // Workaround for a solid-client-authn bug.\n      // Typescript is mad about something.\n      await login(options as any);\n      setSessionRequestInProgress(false);\n    } catch (error) {\n      setSessionRequestInProgress(false);\n      if (onError) onError(error as Error);\n    }\n  }\n\n  function keyDownHandler(\n    e: React.KeyboardEvent<HTMLDivElement | HTMLButtonElement>\n  ): Promise<void> {\n    e.preventDefault();\n\n    return e.key === \"Enter\" ? loginHandler() : Promise.resolve();\n  }\n\n  return children ? (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={loginHandler}\n      onKeyDown={keyDownHandler}\n    >\n      {children}\n    </div>\n  ) : (\n    <button type=\"button\" onClick={loginHandler} onKeyDown={keyDownHandler}>\n      Log In\n    </button>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport interface Props {\n  onLogout?(): void;\n  onError?(error: Error): void;\n  children?: React.ReactElement;\n}\n\n/**\n * Renders a button which triggers logout on click. Should be used within a `SessionProvider`.\n */\nexport const LogoutButton: React.FC<Props> = ({\n  children,\n  onLogout,\n  onError,\n}: Props) => {\n  const { logout } = useContext(SessionContext);\n\n  async function logoutHandler() {\n    try {\n      await logout();\n      if (onLogout) onLogout();\n    } catch (error) {\n      if (onError) onError(error as Error);\n    }\n  }\n\n  function keyDownHandler(\n    e: React.KeyboardEvent<HTMLDivElement | HTMLButtonElement>\n  ): Promise<void> {\n    e.preventDefault();\n\n    return e.key === \"Enter\" ? logoutHandler() : Promise.resolve();\n  }\n\n  return children ? (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={logoutHandler}\n      onKeyDown={keyDownHandler}\n    >\n      {children}\n    </div>\n  ) : (\n    <button type=\"button\" onClick={logoutHandler} onKeyDown={keyDownHandler}>\n      Log Out\n    </button>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement } from \"react\";\n\nimport {\n  Thing,\n  SolidDataset,\n  WithResourceInfo,\n  UrlString,\n} from \"@inrupt/solid-client\";\n\nimport { DatasetProvider } from \"../datasetContext\";\nimport { ThingProvider } from \"../thingContext\";\n\nexport type Props = {\n  children: React.ReactNode;\n  loadingComponent?: React.ComponentType | null;\n  onError?(error: Error): void | null;\n};\n\nexport type ThingOrThingUrl = {\n  thing?: Thing;\n  thingUrl?: UrlString | string;\n};\n\nexport interface Dataset extends Props {\n  solidDataset: SolidDataset | (SolidDataset & WithResourceInfo);\n}\n\nexport interface DatasetUrl extends Props {\n  datasetUrl: UrlString | string;\n}\n\nexport type RequireProperty<T, Prop extends keyof T> = T & {\n  [key in Prop]-?: T[key];\n};\n\nexport type RequireThingOrThingUrl =\n  | RequireProperty<ThingOrThingUrl, \"thing\">\n  | RequireProperty<ThingOrThingUrl, \"thingUrl\">;\n\n// TODO: naming of this provider TBC\nfunction CombinedDataProvider(\n  props: Dataset & RequireThingOrThingUrl\n): ReactElement;\n\nfunction CombinedDataProvider(\n  props: DatasetUrl & RequireThingOrThingUrl\n): ReactElement;\n\n/**\n * Used to provide both a [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset) and [Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing) to child components through context, as used by various provided components and the useDataset and useThing hooks.\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction CombinedDataProvider(props: any): ReactElement {\n  const {\n    children,\n    solidDataset,\n    datasetUrl,\n    thing,\n    thingUrl,\n    onError,\n    loadingComponent,\n  } = props;\n\n  return (\n    <DatasetProvider\n      onError={onError}\n      solidDataset={solidDataset}\n      datasetUrl={datasetUrl}\n      loadingComponent={loadingComponent}\n    >\n      <ThingProvider thing={thing} thingUrl={thingUrl}>\n        {children}\n      </ThingProvider>\n    </DatasetProvider>\n  );\n}\n\nexport default CombinedDataProvider;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable react/jsx-props-no-spreading */\n\nimport React, { ReactElement, useMemo, Children, ReactNode } from \"react\";\nimport { SolidDataset, Thing, Url, UrlString } from \"@inrupt/solid-client\";\nimport {\n  useTable,\n  Column,\n  Row,\n  useSortBy,\n  useGlobalFilter,\n  Renderer,\n  CellProps,\n  HeaderProps,\n} from \"react-table\";\nimport { DataType, getValueByType, getValueByTypeAll } from \"../../helpers\";\nimport CombinedDataProvider from \"../../context/combinedDataContext\";\n\nexport type TableColumnProps = {\n  body?: Renderer<CellProps<any>>;\n  header?: Renderer<HeaderProps<any>> | string;\n  property: Url | UrlString;\n  dataType?: DataType;\n  locale?: string;\n  multiple?: boolean;\n  sortable?: boolean;\n  sortFn?: (a: any, b: any) => number;\n  filterable?: boolean;\n  children?: undefined | null | [];\n};\n\n/**\n * To be used as the only children of a Table component. Each column represents one property of the Things passed to the Table.\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function TableColumn(props: TableColumnProps): ReactElement {\n  throw new Error(\"Can't use TableColumn outside a Table.\");\n}\n\nexport interface TableProps\n  extends React.TableHTMLAttributes<HTMLTableElement> {\n  children?:\n    | ReactElement<TableColumnProps>\n    | Array<ReactElement<TableColumnProps>>;\n  emptyStateComponent?: React.ComponentType | null;\n  things: Array<{ dataset: SolidDataset; thing: Thing }>;\n  filter?: string;\n  ascIndicator?: ReactNode;\n  descIndicator?: ReactNode;\n  getRowProps: (\n    row: Row,\n    rowThing: Thing,\n    rowDataset: SolidDataset\n  ) => React.HTMLAttributes<HTMLTableRowElement>;\n}\n\n/**\n * Displays values from an array of [Things](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing) as table rows, with each column showing a given property of those [Things](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing).\n */\nexport function Table({\n  children,\n  emptyStateComponent: EmptyStateComponent,\n  things,\n  filter,\n  ascIndicator,\n  descIndicator,\n  getRowProps,\n  ...tableProps\n}: TableProps): ReactElement | null {\n  const { columns, data } = useMemo(() => {\n    const columnsArray: Array<Column<Record<string, unknown>>> = [];\n    const dataArray: Array<Record<string, unknown>> = things.map(() => ({}));\n\n    // loop through each column\n    Children.forEach(children, (column, colIndex) => {\n      if (column) {\n        const {\n          property,\n          header,\n          body,\n          dataType = \"string\",\n          locale,\n          multiple = false,\n          sortable,\n          sortFn,\n          filterable,\n        } = column.props;\n        // add heading\n\n        columnsArray.push({\n          Header: header ?? `${property}`,\n          accessor: `col${colIndex}`,\n          disableGlobalFilter: !filterable,\n          disableSortBy: !sortable,\n          Cell: body ?? (({ value }: any) => (value != null ? `${value}` : \"\")),\n        });\n\n        if (sortFn) {\n          const sortFunction = (a: Row, b: Row, columnId: string) => {\n            const valueA = a.values[columnId];\n            const valueB = b.values[columnId];\n            return sortFn(valueA, valueB);\n          };\n          columnsArray[colIndex].sortType = sortFunction;\n        } else {\n          if (dataType === \"string\") {\n            columnsArray[colIndex].sortType = dataType;\n          }\n          if (dataType === \"integer\" || dataType === \"decimal\") {\n            columnsArray[colIndex].sortType = \"number\";\n          }\n        }\n\n        // add each each value to data\n        things.forEach((thing, i) => {\n          dataArray[i][`col${colIndex}`] = multiple\n            ? getValueByTypeAll(dataType, thing.thing, property, locale)\n            : getValueByType(dataType, thing.thing, property, locale);\n        });\n      }\n    });\n\n    return { columns: columnsArray, data: dataArray };\n  }, [children, things]);\n\n  const tableInstance = useTable(\n    {\n      columns,\n      data,\n      initialState: { globalFilter: filter || undefined },\n    },\n    useGlobalFilter,\n    useSortBy\n  );\n\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } =\n    tableInstance;\n  if (!rows.length) {\n    if (EmptyStateComponent) {\n      return <EmptyStateComponent />;\n    }\n    return null;\n  }\n  return (\n    <table {...getTableProps()} {...tableProps}>\n      <thead>\n        {headerGroups.map((headerGroup) => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map((column) => (\n              <th {...column.getHeaderProps(column.getSortByToggleProps())}>\n                {column.render(\"Header\")}\n                {column.isSorted &&\n                  (column.isSortedDesc ? descIndicator : ascIndicator)}\n              </th>\n            ))}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()}>\n        {rows.map((row) => {\n          prepareRow(row);\n          const rowDataset = things[row.index].dataset;\n          const rowThing = things[row.index].thing;\n          return (\n            <tr {...row.getRowProps(getRowProps(row, rowThing, rowDataset))}>\n              <CombinedDataProvider solidDataset={rowDataset} thing={rowThing}>\n                {row.cells.map((cell) => {\n                  return (\n                    <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\n                  );\n                })}\n              </CombinedDataProvider>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n\nTable.defaultProps = {\n  filter: undefined,\n  ascIndicator: (\n    <span role=\"img\" aria-label=\"Sorted in ascending order\">\n      {\" \"}\n      \n    </span>\n  ),\n  descIndicator: (\n    <span role=\"img\" aria-label=\"Sorted in descending order\">\n      {\" \"}\n      \n    </span>\n  ),\n  getRowProps: () => ({}),\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState, useEffect, useContext } from \"react\";\nimport {\n  Thing,\n  Url,\n  UrlString,\n  setStringWithLocale,\n  setStringNoLocale,\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport { CommonProperties, updateDataset, useProperty } from \"../../helpers\";\n\nexport type Props = {\n  saveDatasetTo?: Url | UrlString;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  locale?: string;\n  loadingComponent?: React.ComponentType | null;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n} & CommonProperties;\n\n/**\n * Retrieves and displays a string from a given [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset)/[Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing)/property. Can also be used to set/update and persist a string value.\n */\nexport function Text({\n  thing: propThing,\n  solidDataset: propDataset,\n  property: propProperty,\n  properties: propProperties,\n  saveDatasetTo,\n  locale,\n  onSave,\n  onError,\n  inputProps,\n  errorComponent: ErrorComponent,\n  loadingComponent: LoadingComponent,\n  edit = false,\n  autosave = false,\n  ...other\n}: Props & React.HTMLAttributes<HTMLSpanElement>): ReactElement | null {\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    error: thingError,\n    value,\n    thing,\n    property,\n    dataset,\n    setDataset,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"string\",\n    locale,\n  });\n\n  let valueError;\n  if (!edit && !value) {\n    valueError = new Error(\"No value found for property.\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error] = useState<Error | undefined>(thingError ?? valueError);\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const [text, setText] = useState<string | null>(value as string);\n  const [, setErrorState] = useState<string | null>();\n  const [initialValue, setInitialValue] = useState<string | null>(\n    value as string\n  );\n\n  /* Save text value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (initialValue !== e.target.value && thing && dataset) {\n      const newValue = e.target.value;\n      let updatedResource: Thing;\n      if (locale) {\n        updatedResource = setStringWithLocale(\n          thing,\n          property,\n          newValue,\n          locale\n        );\n      } else {\n        updatedResource = setStringNoLocale(thing, property, newValue);\n      }\n\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else {\n          setErrorState(() => {\n            throw new Error(\n              \"Please provide saveDatasetTo location for new data\"\n            );\n          });\n        }\n\n        if (onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  if (isFetchingThing) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    if (ErrorComponent) {\n      return <ErrorComponent error={error} />;\n    }\n    return <span>{error.toString()}</span>;\n  }\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{text}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type={inputProps && inputProps.type ? inputProps.type : \"text\"}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onFocus={(e) => setInitialValue(e.target.value)}\n          onChange={(e) => setText(e.target.value)}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={text || \"\"}\n        />\n      )}\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useEffect, useState, useContext } from \"react\";\nimport { overwriteFile, CommonProperties, useProperty } from \"../../helpers\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport useFile from \"../../hooks/useFile\";\n\nexport type Props = {\n  maxSize?: number;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n  loadingComponent?: React.ComponentType | null;\n} & CommonProperties &\n  React.VideoHTMLAttributes<HTMLVideoElement>;\n\n/**\n * Fetches and displays a video, from a src found at a given property of a given Thing. Can also be used to upload a new/replacement video file.\n */\nexport function Video({\n  property: propProperty,\n  properties: propProperties,\n  thing: propThing,\n  edit,\n  autosave,\n  onSave,\n  onError,\n  maxSize,\n  inputProps,\n  errorComponent: ErrorComponent,\n  loadingComponent: LoadingComponent,\n  ...videoOptions\n}: Props): ReactElement | null {\n  const { fetch } = useContext(SessionContext);\n\n  const values = useProperty({\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"url\",\n  });\n\n  const { value, thing, error: thingError } = values;\n  let valueError;\n  if (!edit && !value) {\n    valueError = new Error(\"No value found for property.\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error, setError] = useState<Error | undefined>(\n    thingError ?? valueError\n  );\n\n  useEffect(() => {\n    if (error) {\n      if (onError) {\n        onError(error);\n      }\n    }\n  }, [error, onError, ErrorComponent]);\n\n  const [videoObjectUrl, setVideoObjectUrl] = useState(\"\");\n\n  const {\n    data,\n    error: videoError,\n    inProgress: fetchingVideoInProgress,\n  } = useFile(value as string);\n\n  useEffect(() => {\n    if (fetchingVideoInProgress) {\n      return;\n    }\n    if (videoError) {\n      setError(videoError);\n      return;\n    }\n    const videoObjectURL = data && URL.createObjectURL(data);\n    if (videoObjectURL) {\n      setVideoObjectUrl(videoObjectURL);\n    }\n  }, [data, fetchingVideoInProgress, videoError]);\n\n  const handleChange = async (input: EventTarget & HTMLInputElement) => {\n    const fileList = input.files;\n    if (autosave && fileList && fileList.length > 0 && value) {\n      const newObjectUrl = await overwriteFile(\n        value as string,\n        fileList[0],\n        input,\n        fetch,\n        maxSize,\n        onSave,\n        onError\n      );\n      if (newObjectUrl) {\n        setVideoObjectUrl(newObjectUrl);\n      }\n    }\n  };\n\n  let videoComponent = null;\n\n  if (isFetchingThing || fetchingVideoInProgress) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    videoComponent = ErrorComponent ? (\n      <ErrorComponent error={error} />\n    ) : (\n      <span>{error.toString()}</span>\n    );\n  } else if (value) {\n    videoComponent = (\n      /* eslint jsx-a11y/media-has-caption: 0, react/jsx-props-no-spreading: 0 */\n      <video\n        src={videoObjectUrl || (value as string)}\n        controls\n        {...videoOptions}\n      />\n    );\n  }\n\n  return (\n    <>\n      {videoComponent}\n      {edit && (\n        <input\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          type=\"file\"\n          accept=\"video/*\"\n          onChange={(e) => handleChange(e.target)}\n        />\n      )}\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useContext } from \"react\";\nimport {\n  ILoginInputOptions,\n  Session,\n} from \"@inrupt/solid-client-authn-browser\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport interface SessionInfo {\n  session: Session;\n  sessionRequestInProgress: boolean;\n  fetch: typeof window.fetch;\n  login: (options: ILoginInputOptions) => Promise<void>;\n  logout: () => Promise<void>;\n}\n\nexport default function useSession(): SessionInfo {\n  const { session, sessionRequestInProgress, fetch, login, logout } =\n    useContext(SessionContext);\n\n  return {\n    session,\n    sessionRequestInProgress,\n    fetch,\n    login,\n    logout,\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { getThing, Thing } from \"@inrupt/solid-client\";\nimport { useContext } from \"react\";\nimport ThingContext from \"../../context/thingContext\";\nimport useDataset from \"../useDataset\";\n\nexport default function useThing(\n  datasetIri?: string | null | undefined,\n  thingIri?: string | null | undefined,\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n  options?: any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): { thing?: Thing | null; error: any } {\n  const { dataset, error } = useDataset(datasetIri, options);\n  const { thing: thingFromContext } = useContext(ThingContext);\n  if (!thingIri) {\n    return { thing: thingFromContext || undefined, error };\n  }\n\n  if (!dataset) {\n    return { thing: null, error };\n  }\n\n  const thing = getThing(dataset, thingIri);\n  return { thing, error };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport { FileUpload } from \"./components/file\";\nexport { Image } from \"./components/image\";\nexport { Link } from \"./components/link\";\nexport { LoginButton } from \"./components/logIn\";\nexport { LogoutButton } from \"./components/logOut\";\nexport { Table, TableColumn } from \"./components/table\";\nexport { Text } from \"./components/text\";\nexport { Value } from \"./components/value\";\nexport { Video } from \"./components/video\";\nexport { SessionContext, SessionProvider } from \"./context/sessionContext\";\nexport { default as CombinedDataProvider } from \"./context/combinedDataContext\";\nexport { default as ThingContext, ThingProvider } from \"./context/thingContext\";\nexport {\n  default as DatasetContext,\n  DatasetProvider,\n} from \"./context/datasetContext\";\nexport { default as useSession } from \"./hooks/useSession\";\nexport { default as useDataset } from \"./hooks/useDataset\";\nexport { default as useThing } from \"./hooks/useThing\";\nexport { default as useFile } from \"./hooks/useFile\";\n"],"names":[],"sourceRoot":""}