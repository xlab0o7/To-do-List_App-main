{"ast":null,"code":"import _regeneratorRuntime from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"E:/react-todo-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { JOSEError, JWKSTimeout } from '../util/errors.js';\nvar fetchJwks = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(url, timeout, options) {\n    var controller, id, timedOut, response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          timedOut = false;\n          if (typeof AbortController === 'function') {\n            controller = new AbortController();\n            id = setTimeout(function () {\n              timedOut = true;\n              controller.abort();\n            }, timeout);\n          }\n          _context.next = 4;\n          return fetch(url.href, {\n            signal: controller ? controller.signal : undefined,\n            redirect: 'manual',\n            headers: options.headers\n          }).catch(function (err) {\n            if (timedOut) throw new JWKSTimeout();\n            throw err;\n          });\n        case 4:\n          response = _context.sent;\n          if (id !== undefined) clearTimeout(id);\n          if (!(response.status !== 200)) {\n            _context.next = 8;\n            break;\n          }\n          throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n        case 8:\n          _context.prev = 8;\n          _context.next = 11;\n          return response.json();\n        case 11:\n          return _context.abrupt(\"return\", _context.sent);\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](8);\n          throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 14]]);\n  }));\n  return function fetchJwks(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport default fetchJwks;","map":{"version":3,"names":["JOSEError","JWKSTimeout","fetchJwks","url","timeout","options","timedOut","AbortController","controller","id","setTimeout","abort","fetch","href","signal","undefined","redirect","headers","catch","err","response","clearTimeout","status","json"],"sources":["E:/react-todo-app/node_modules/jose/dist/browser/runtime/fetch_jwks.js"],"sourcesContent":["import { JOSEError, JWKSTimeout } from '../util/errors.js';\nconst fetchJwks = async (url, timeout, options) => {\n    let controller;\n    let id;\n    let timedOut = false;\n    if (typeof AbortController === 'function') {\n        controller = new AbortController();\n        id = setTimeout(() => {\n            timedOut = true;\n            controller.abort();\n        }, timeout);\n    }\n    const response = await fetch(url.href, {\n        signal: controller ? controller.signal : undefined,\n        redirect: 'manual',\n        headers: options.headers,\n    }).catch((err) => {\n        if (timedOut)\n            throw new JWKSTimeout();\n        throw err;\n    });\n    if (id !== undefined)\n        clearTimeout(id);\n    if (response.status !== 200) {\n        throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch (_a) {\n        throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexport default fetchJwks;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,mBAAmB;AAC1D,IAAMC,SAAS;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,OAAO,EAAEC,OAAO;IAAA;IAAA;MAAA;QAAA;UAGtCC,QAAQ,GAAG,KAAK;UACpB,IAAI,OAAOC,eAAe,KAAK,UAAU,EAAE;YACvCC,UAAU,GAAG,IAAID,eAAe,EAAE;YAClCE,EAAE,GAAGC,UAAU,CAAC,YAAM;cAClBJ,QAAQ,GAAG,IAAI;cACfE,UAAU,CAACG,KAAK,EAAE;YACtB,CAAC,EAAEP,OAAO,CAAC;UACf;UAAC;UAAA,OACsBQ,KAAK,CAACT,GAAG,CAACU,IAAI,EAAE;YACnCC,MAAM,EAAEN,UAAU,GAAGA,UAAU,CAACM,MAAM,GAAGC,SAAS;YAClDC,QAAQ,EAAE,QAAQ;YAClBC,OAAO,EAAEZ,OAAO,CAACY;UACrB,CAAC,CAAC,CAACC,KAAK,CAAC,UAACC,GAAG,EAAK;YACd,IAAIb,QAAQ,EACR,MAAM,IAAIL,WAAW,EAAE;YAC3B,MAAMkB,GAAG;UACb,CAAC,CAAC;QAAA;UARIC,QAAQ;UASd,IAAIX,EAAE,KAAKM,SAAS,EAChBM,YAAY,CAACZ,EAAE,CAAC;UAAC,MACjBW,QAAQ,CAACE,MAAM,KAAK,GAAG;YAAA;YAAA;UAAA;UAAA,MACjB,IAAItB,SAAS,CAAC,yDAAyD,CAAC;QAAA;UAAA;UAAA;UAAA,OAGjEoB,QAAQ,CAACG,IAAI,EAAE;QAAA;UAAA;QAAA;UAAA;UAAA;UAAA,MAGtB,IAAIvB,SAAS,CAAC,4DAA4D,CAAC;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAExF;EAAA,gBA/BKE,SAAS;IAAA;EAAA;AAAA,GA+Bd;AACD,eAAeA,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}